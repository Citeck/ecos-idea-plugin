<idea-plugin>
    <id>ru.citeck.ecos-dev-plugin</id>
    <name>Ecos Idea plugin</name>
    <vendor email="" url="http://citeck.ru">Citeck</vendor>

    <description>Ecos Idea plugin</description>

    <!-- please see https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html
         on how to target different products -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.java</depends>

    <extensions defaultExtensionNs="com.intellij">
        <completion.contributor language="JAVA"
                                implementationClass="ru.citeck.completetion.java.JavaCompletionContributor"/>
        <projectService serviceImplementation="ru.citeck.indexes.qnames.QNamesService"/>
        <searchScopesProvider implementation="ru.citeck.search.EcosArtifactsSearchScopeProvider"/>
        <liveTemplateMacro implementation="ru.citeck.livetemplates.functions.AlfrescoTypesEnumMacro"/>

        <fileBasedIndex implementation="ru.citeck.indexes.qnames.QNamesFileBasedIndex"/>
        <fileBasedIndex implementation="ru.citeck.indexes.EcosUiFileBasedIndex"/>
        <fileBasedIndex implementation="ru.citeck.indexes.models.AlfNamespaceIndex"/>
        <fileBasedIndex implementation="ru.citeck.indexes.models.AlfTypeIndex"/>
        <localInspection implementationClass="ru.citeck.inspections.NamespacesInspection" language="XML"
                         enabledByDefault="true" level="ERROR" displayName="Namespace prefix not imported"
                         groupName="XML"/>
    </extensions>

    <actions>

        <action id="Ecos.ExecuteAlfrescoJs" class="ru.citeck.actions.ExecuteAlfrescoJS"
                text="Execute Afresco JS"
                description="Execute Alfresco JS" icon="AllIcons.Actions.Execute">
            <keyboard-shortcut keymap="$default" first-keystroke="control alt E" second-keystroke="E"/>
            <add-to-group group-id="EditorContextBarMenu" anchor="last"/>
        </action>

        <group id="Ecos.HotReloadJava" icon="EcosIcons.CiteckLogo">
            <add-to-group group-id="EditorContextBarMenu" anchor="last"/>
            <action id="Ecos.RunJavaMethod" class="ru.citeck.actions.RunJavaMethod" text="Run Java Method" icon="AllIcons.Actions.Execute">
                <keyboard-shortcut keymap="$default" first-keystroke="control alt E" second-keystroke="R"/>
            </action>
            <action id="Ecos.BuildAndReloadJavaClass" class="ru.citeck.actions.BuildAndReloadJavaClass" text="Build and Reload Java Class" icon="AllIcons.Actions.Compile">
                <keyboard-shortcut keymap="$default" first-keystroke="control alt E" second-keystroke="B"/>
            </action>
        </group>

        <group id="Ecos.MainMenu" text="Ecos" popup="true" icon="EcosIcons.CiteckLogo">
            <add-to-group group-id="MainMenu" anchor="last"/>
            <action id="Ecos.ExecuteAlfrescoJsFromScratchFile"
                    class="ru.citeck.actions.ExecuteAlfrescoJsFromScratchFile"
                    text="Execute Afresco JS From Scratch File"
                    description="Execute Alfresco JS from scratch file" icon="AllIcons.FileTypes.JavaScript">
                <keyboard-shortcut keymap="$default" first-keystroke="control alt E" second-keystroke="J"/>
            </action>
            <action id="Ecos.EcosArtifactsNavigator"
                    class="ru.citeck.actions.EcosArtifactsNavigator"
                    text="Ecos Artifacts Navigator"
                    description="Ecos Artifacts Navigator" icon="EcosIcons.CiteckLogo">
                <keyboard-shortcut keymap="$default" first-keystroke="control alt E" second-keystroke="N"/>
            </action>
        </group>

        <action id="Ecos.DeployFile" class="ru.citeck.actions.DeployFile"
                text="Deploy file" description="Deploy file" icon="AllIcons.Actions.Uninstall">
            <keyboard-shortcut keymap="$default" first-keystroke="control alt E" second-keystroke="D"/>
            <add-to-group group-id="EditorContextBarMenu" anchor="last"/>
        </action>

        <action id="Ecos.FetchFile" class="ru.citeck.actions.FetchFile"
                text="Fetch file" description="Fetch file" icon="AllIcons.Actions.Install">
            <keyboard-shortcut keymap="$default" first-keystroke="control alt E" second-keystroke="F"/>
            <add-to-group group-id="EditorContextBarMenu" anchor="last"/>
        </action>

        <group id="ru.citeck.actions.EcosEditorPopupMenu" text="Ecos" popup="true" icon="EcosIcons.CiteckLogo">
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            <action id="Ecos.EditJsonString" class="ru.citeck.actions.EditJsonStringAsJS"
                    text="Edit attribute as JavaScript"
                    description="Edit attribute as JavaScript" icon="AllIcons.FileTypes.JavaScript">
            </action>
        </group>


    </actions>
</idea-plugin>